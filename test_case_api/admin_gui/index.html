<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Case API - Admin Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="dev-banner">‚ö†Ô∏è DEVELOPMENT ENVIRONMENT ONLY - Admin Interface</div>
    
    <div class="container">
        <header>
            <h1>üîß Test Case Generator - Admin Dashboard</h1>
            <div class="status-bar">
                <span class="status-indicator" id="apiStatus">
                    <span class="dot"></span> Checking...
                </span>
                <span class="status-indicator" id="ollamaStatus">
                    <span class="dot"></span> Checking...
                </span>
            </div>
        </header>

        <nav class="tabs">
            <button class="tab-button active" data-tab="monitor">üìä Monitor</button>
            <button class="tab-button" data-tab="generate">üöÄ Generate</button>
            <button class="tab-button" data-tab="models">ü§ñ Models</button>
            <button class="tab-button" data-tab="instructions">üìù Instructions</button>
            <button class="tab-button" data-tab="settings">‚öôÔ∏è Settings</button>
        </nav>

        <!-- Monitor Tab -->
        <div id="monitor" class="tab-content active">
            <h2>System Monitor</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">API Status</div>
                    <div class="stat-value" id="apiStatusDetail">Checking...</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Ollama Status</div>
                    <div class="stat-value" id="ollamaStatusDetail">Checking...</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Available Models</div>
                    <div class="stat-value" id="modelCount">-</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Default Model</div>
                    <div class="stat-value" id="defaultModel">-</div>
                </div>
            </div>

            <div class="section">
                <h3>Recent Activity</h3>
                <div id="activityLog" class="log-container">
                    <p class="text-muted">Activity log will appear here...</p>
                </div>
            </div>
        </div>

        <!-- Generate Tab -->
        <div id="generate" class="tab-content">
            <h2>Generate Test Cases</h2>
            
            <div class="section">
                <h3>Single Requirement</h3>
                <form id="singleForm">
                    <div class="form-group">
                        <label for="reqId">Requirement ID*</label>
                        <input type="text" id="reqId" required placeholder="e.g., REQ-001-01">
                    </div>
                    <div class="form-group">
                        <label for="description">Description*</label>
                        <textarea id="description" rows="3" required placeholder="Enter requirement description"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="category">Category*</label>
                        <select id="category" required>
                            <option value="">Select category</option>
                            <option value="Functional">Functional</option>
                            <option value="Performance">Performance</option>
                            <option value="Safety">Safety</option>
                            <option value="Reliability">Reliability</option>
                            <option value="Interface">Interface</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="paramCategory">Parameter Category</label>
                        <input type="text" id="paramCategory" placeholder="e.g., INPUT VOLTAGE">
                    </div>
                    <div class="form-group">
                        <label for="modelSelect">Model</label>
                        <select id="modelSelect">
                            <option value="">Default</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">Generate Test Case</button>
                </form>
            </div>

            <div class="section">
                <h3>Batch from File</h3>
                <form id="fileForm">
                    <div class="form-group">
                        <label for="fileUpload">Upload JSON File</label>
                        <input type="file" id="fileUpload" accept=".json">
                    </div>
                    <div class="form-group">
                        <label for="fileModel">Model</label>
                        <select id="fileModel">
                            <option value="">Default</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">Upload & Generate</button>
                </form>
            </div>

            <div class="section" id="resultsSection" style="display: none;">
                <h3>Results</h3>
                <div class="result-actions">
                    <button id="copyResult" class="btn btn-secondary">üìã Copy</button>
                    <button id="downloadResult" class="btn btn-secondary">üíæ Download</button>
                </div>
                <pre id="resultOutput" class="result-output"></pre>
            </div>
        </div>

        <!-- Models Tab -->
        <div id="models" class="tab-content">
            <h2>Model Management</h2>
            
            <div class="section">
                <button id="refreshModels" class="btn btn-secondary">üîÑ Refresh Models</button>
            </div>

            <div class="section">
                <h3>Available Models</h3>
                <div id="modelsList" class="models-list">
                    <p class="text-muted">Loading models...</p>
                </div>
            </div>

            <div class="section">
                <h3>Test a Model</h3>
                <form id="testModelForm">
                    <div class="form-group">
                        <label for="testModel">Select Model</label>
                        <select id="testModel">
                            <option value="">Select a model</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="testPrompt">Test Prompt</label>
                        <textarea id="testPrompt" rows="3" placeholder="Enter a test prompt"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Test Model</button>
                </form>
                <div id="testModelResult" class="result-output" style="display: none;"></div>
            </div>
        </div>

        <!-- Instructions Tab -->
        <div id="instructions" class="tab-content">
            <h2>System Instructions</h2>
            
            <div class="section">
                <div class="alert alert-info">
                    These instructions guide the AI on how to generate test cases.
                    Changes take effect immediately.
                </div>
                
                <form id="instructionsForm">
                    <div class="form-group">
                        <label for="instructionsText">Instructions</label>
                        <textarea id="instructionsText" rows="15" placeholder="Loading..."></textarea>
                    </div>
                    <div class="button-group">
                        <button type="submit" class="btn btn-primary">üíæ Save Instructions</button>
                        <button type="button" id="reloadInstructions" class="btn btn-secondary">üîÑ Reload</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="settings" class="tab-content">
            <h2>Configuration</h2>
            
            <div class="section">
                <h3>API Configuration</h3>
                <div class="config-grid">
                    <div class="config-item">
                        <label>API Base URL</label>
                        <input type="text" id="apiBaseUrl" value="http://localhost:5000">
                    </div>
                    <div class="config-item">
                        <label>Ollama Base URL</label>
                        <input type="text" id="ollamaBaseUrl" value="http://localhost:11434">
                    </div>
                    <div class="config-item">
                        <label>Timeout (seconds)</label>
                        <input type="number" id="timeout" value="180">
                    </div>
                </div>
                <button id="saveConfig" class="btn btn-primary">üíæ Save Configuration</button>
            </div>

            <div class="section">
                <h3>Environment Info</h3>
                <div class="env-info">
                    <p><strong>Mode:</strong> Development</p>
                    <p><strong>Access Level:</strong> Administrator</p>
                    <p><strong>Interface:</strong> Admin Dashboard</p>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>Test Case Generator API - Admin Dashboard | Development Environment Only</p>
    </footer>

    <script src="admin.js"></script>
</body>
</html>
